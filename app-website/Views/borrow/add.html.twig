{% extends 'backoffice/backoffice.html.twig' %}
{% block title %}Ajout d'un emprunt{% endblock %}
{% block content_back %}
<div class="container">
  <h1 class="bg-primary text-white p-4">
    <i class="las la-angle-double-right"></i>
    Ajouter d'un nouvel emprunt
  </h1>

  <form action="{{ url( '/borrows/add') }}" method="POST" enctype="multipart/form-data">

    <div class="form-group row">
      <label class="col-2 col-form-label">Auteur :</label>
      <div class="col-6">
        <select name="user_id" class="form-control" required>
          {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Livre :</label>
      <div class="col-6">
        <select name="book_id" class="form-control" required>
          {% for book in books %}
            <option value="{{ book.id }}">{{ book.title }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Date de rendu maximale :</label>
      <div class="col-6">
        <input type="datetime-local" name="due_date" class="form-control" required/>
      </div>
    </div>

    <div class="form-group row" style="margin-top: 5%">
      <div class="offset-2">
        <button class="btn btn-primary">
          <i class="far fa-save"></i>
          Enregistrer
        </button>
        <a href="{{ url( '/authors') }}" class="btn btn-link text-black-50">
          <i class="las la-reply"></i>
          Annuler
        </a>
      </div>
    </div>
  </form>
</div> <!-- # END .container #-->

<script>
// les helpers
function $(expr, con) {
  return typeof expr === 'string' ? (con || document).querySelector(expr) : expr;
}

function $$(expr, con) {
  return Array.prototype.slice.call((con || document).querySelectorAll(expr));
}



window.addEventListener('DOMContentLoaded', (event) => {

$('#illustration').addEventListener('change',function(){
  var fileName = $("illustration").files[0].name;
  var nextSibling = $("forillustration")
  nextSibling.innerHTML = fileName
})
});
</script>
{% endblock %}
